% --------------------------------------------------------------------
\begin{tactic}{byequiv}

  \begin{tsyntax}{byequiv [option]? <specification>}
  Derives probability relation from \prhl judgements. 
  Only applies to judgments on procedures.
 
  \textbf{Examples:}
  \begin{mathpar}
    \inferrule*[left=(\prhl),rightskip=5em]%%
    { \pRHL{P}{f_1}{f_2}{Q} \\%
      P~\vec{a}_1~m_1~\vec{a}_2~m_2 \\%
      Q \Rightarrow E_1\{1\}  \Leftrightarrow E_2\{2\} }%%
    { \PR{f_1}{\vec{a}_1}{\mem{m_1}}{E_1} = \PR{f_2}{\vec{a}_2}{m_2}{E_2} }%%
    \quad\raisebox{.7em}{\tct{byequiv (: P ==> Q)} } \\
    \inferrule*[left=(\prhl),rightskip=5em]%%
    { \pRHL{P}{f_1}{f_2}{Q} \\% 
      P~\vec{a}_1~m_1~\vec{a}_2~m_2 \\%
      Q \Rightarrow E_1\{1\}  \Rightarrow E_2\{2\} }%%
    { \PR{f_1}{\vec{a}_1}{\mem{m_1}}{E_1} \leq \PR{f_2}{\vec{a}_2}{m_2}{E_2} }%%
    \quad\raisebox{.7em}{\tct{byequiv (: P ==> Q)} } \\
    \inferrule*[left=(\prhl),rightskip=5em]%%
    { \pRHL{P}{f_1}{f_2}{Q} \\%
      P~\vec{a}_1~m_1~\vec{a}_2~m_2 \\%
      Q \Rightarrow E_2\{2\}  \Rightarrow E_1\{1\} } %%
    { \PR{f_1}{\vec{a}_1}{\mem{m_1}}{E_1} \geq \PR{f_2}{\vec{a}_2}{m_2}{E_2} }%%
    \raisebox{.7em}{\tct{byequiv (: P ==> Q)} } 
  \end{mathpar}
 
 \end{tsyntax}

  Possible options are \tct{-eq} or \tct{eq}.
  Any one of the specification places can be filled
  with a wildcard \tct{_}. It that case the corresponding argument 
  is automatically inferred. Some time the infered postcondition  
  is stronger than necessary, in that case use the option \tct{-eq}.

  \fix{Missing description of byequiv for upto}.
  
  \begin{tsyntax}{byequiv <lemma>}
  Same as \tct{byequiv <specification>}, but the specification to use is 
  inferred from the lemma provided. Raises an error if the lemma does 
  not refer to the expected procedures. All variants of \tct{byequiv} 
  may take lemmas in place of explicit specifications with the same effect.
  \end{tsyntax}


\end{tactic}
