% --------------------------------------------------------------------
\newcommand{\dslash}{\mathbin{\mathsf{/\mkern-4mu/}}}
\newcommand{\dslasheq}{\mathbin{\mathsf{/\mkern-4mu/\mkern-8mu=}}}
\newcommand{\slasheq}{\mathbin{\mathsf{/\mkern-6mu=}}}

% --------------------------------------------------------------------
\lstdefinestyle{easycrypt-default}{
  upquote=true,
  escapechar=\#,
  mathescape=false,
  columns=fullflexible,
  keepspaces=true,
  captionpos=b,
  frame=tb,
  xleftmargin=.1\textwidth,
  xrightmargin=.1\textwidth,
  rangebeginprefix={(**\ begin\ },
  rangeendprefix={(**\ end\ },
  rangesuffix={\ *)},
  includerangemarker=false,
  basicstyle=\small\sffamily,
  identifierstyle={},
  keywordstyle=[1]{\bfseries},
  keywordstyle=[2]{\bfseries},
  keywordstyle=[3]{\bfseries},
  keywordstyle=[4]{\bfseries},
  keywordstyle=[5]{\bfseries},
  keywordstyle=[6]{\bfseries\color{Red}}
}

\lstdefinestyle{easycrypt-math}{
  upquote=true,
  mathescape=true,
  columns=fullflexible,
  keepspaces=true,
  captionpos=b,
  frame=tb,
  xleftmargin=.1\textwidth,
  xrightmargin=.1\textwidth,
  rangebeginprefix={(**\ begin\ },
  rangeendprefix={(**\ end\ },
  rangesuffix={\ *)},
  includerangemarker=false,
  basicstyle=\small\sffamily,
  identifierstyle={},
  keywordstyle=[1]{\bfseries},
  keywordstyle=[2]{\bfseries},
  keywordstyle=[3]{\bfseries},
  keywordstyle=[4]{\bfseries},
  keywordstyle=[5]{\bfseries},
  keywordstyle=[6]{\bfseries\color{Red}}
}

\lstdefinestyle{easycrypt-math-nocolors}{
  upquote=true,
  mathescape=true,
  columns=fullflexible,
  keepspaces=true,
  captionpos=b,
  frame=tb,
  xleftmargin=.1\textwidth,
  xrightmargin=.1\textwidth,
  rangebeginprefix={(**\ begin\ },
  rangeendprefix={(**\ end\ },
  rangesuffix={\ *)},
  includerangemarker=false,
  basicstyle=\small\sffamily,
  identifierstyle={},
  keywordstyle=[1]{\bfseries},
  keywordstyle=[2]{\bfseries},
  keywordstyle=[3]{\bfseries},
  keywordstyle=[4]{\bfseries},
  keywordstyle=[5]{\bfseries},
  keywordstyle=[6]{\bfseries\color{Red}}
}

% --------------------------------------------------------------------
\input{easycrypt-kw.lst}

% --------------------------------------------------------------------
\lstdefinelanguage{easycrypt}{
  style=easycrypt-default,
  language=easycrypt-kw,
  morekeywords=[1]{arg},
  morecomment=[n][\itshape]{(*}{*)},
  morecomment=[n][\bfseries]{(**}{*)},
}

\lstdefinelanguage{easycrypt-math}{
  style=easycrypt-math,
  language=easycrypt-kw,
  morekeywords=[1]{arg},
  morecomment=[n][\itshape]{(*}{*)},
  morecomment=[n][\bfseries]{(**}{*)},
}

\lstdefinelanguage{easycrypt-math-nocolors}{
  style=easycrypt-math-nocolors,
  language=easycrypt-kw,
  morekeywords=[1]{arg},
  morecomment=[n][\itshape]{(*}{*)},
  morecomment=[n][\bfseries]{(**}{*)},
}
